<html>
    <head>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="nav-section">
            <div class="sections">
                <div class="nav-item main-nav-items" data-name="about">About</div>
                <div class="nav-item main-nav-items" data-name="exigence">Exigence</div>
                <div class="nav-item main-nav-items" data-name="context">Context</div>
                <div class="nav-item main-nav-items" data-name="perspective">Perspective</div>
            </div>
            <div class="nav-container">
                <div class="nav-item sub-nav">About</div>
                <div class="nav-item sub-nav">Pro Side</div>
                <div class="nav-item sub-nav">Con Side</div>
                <div class="nav-item sub-nav">Actual concerns</div>
                <div class="nav-item sub-nav">Work Cited</div>
            </div>
        </div>
        <div class="front-image-section">
            <div class="caption-title">About</div>
            <img id="front-image" src="cwp.png" alt="">
        </div>
        <div class="info-section">
        </div>
        <div class="work-cited">
            <div class="cited-title">Work Cited</div>
            <div class="cited-work"></div>
        </div>
    </body>

    <script>
        const data = {
            'about':[
                {
                    'image':'pic1.png',
                    'title':'Context',
                    'desp': `Everyone has heard of the World Cup, the international competition between the best football countries around the world, but not everyone has heard about the World Cup’s brother: the Club World Cup. The Club World Cup was FIFA’s idea of a World Cup but between the best clubs in the world. This idea competition never became as popular as it was intended to be. Over the years, FIFA has changed this competition to increase its popularity, but it has never succeeded. Recently, FIFA changed its Club World Cup, making it similar to the World Cup in hopes that the Club World Cup would now get the attention it deserves. The expansion of the Club World Cup interferes with one major rising problem in football, which is the rise in player fatigue. To understand FIFA’s reasons behind the new Club World Cup format and how this new tournament clashes with the rising player fatigue, we have to look at the new structure of the tournament so that we can see how it compares to successful football tournament structures and the new tournaments structure will show us how the Club World Cup clashes with player fatigue.`,
                },
                {
                    'image':'pic3.png',
                    'title':"Exigence",
                    'desp': `Football is the game that exceeds all games because it has the power to bring unity among people irrespective of race or origin, to uplift the children who have seen war and conflict and give them a feeling that they so long deserved of happiness, and to bring comfort to those watching it with their loved in their comfortable living rooms.  Football exists because of the work that FIFA has done to promote the sport into a universal culture. Just like the ocean is beautiful on the outside and sour in the inside, FIFA is an organization that brings joy across the world yet has been questioned in the inside on how they conduct their business.   Like every international business, FIFA needs to create money to be able to support the industry of global football, but it has been accused of being “corrupt” and “greedy” on how it creates its tournaments and generating its revenue. Recently, there has been accusation against FIFA for expanding the FIFA’s Club World Cup which is a competition that is held yearly in which the top teams in each continent compete for a chance to be the best football team that year.  FIFA recently expanded the participation of this tournament making it like the World Cup that happens for one month during the summer. However, this expansion has been met with large criticism across Europe’s top teams ranging from match scheduling issues, player health, and even legal issues.  `,
                },
                {
                    'image':'pic2.png',
                    'title': "Perspectives",
                    'desp': `Comming Soon!`
                },
            ],
            'exigence': [
                {
                    'image':'pro.png',
                    'title':"FIFA's SIDE",
                    'desp': `Though people accuse FIFA’s recent expansion of the Club World Cup as being greedy, corrupt, and self-centered, the public fails to realize that FIFA is an international business that promotes football and can only do that with money. So, is FIFA corrupt” or is it just a misunderstanding from the public? Of course, FIFA expanded this tournament to generate more funds. UEFA, which represents European football, “are richer than FIFA because they have the Champions League that brings in money every year as well as the Euros whereas FIFA only really have the World Cup once every four years.” If UEFA has more money than FIFA, it needs to generate more funds to operate effectively on a global level, so, logically, FIFA expanded its Club World Cup to create more funds. Furthermore, people fail to realize that FIFA is constantly improving the game of football, making it more enjoyable than the previous generation. FIFA uses its money to "reinvest in developing on the same around the world.” Football fifty years ago nor ten years ago is the same as football nowadays. Some technologies validate goals and referee calls, something that was once thought of as a fairytale. Though FIFA’s recent actions have been labeled “corrupt” and “greedy”, people forget that FIFA is a business that tries to promote football, which requires money to do so. Is that “really” corrupt?`
                },
                {
                    'image':'con.png',
                    'title': "LEGAL ISSUES",
                    'desp': `Most of the criticism from the recent expansion of the Club World Cup surrounds the scheduling conflicts between the regular season, the Club World Cup, and player’s right to a break. The Club World Cup is held in the summer, during the player’s rest period, which will interfere with the scheduling of the regular season, pre-season, and the break-time of the players. Reporters are saying that scheduling “becomes increasingly complicated” because of the Club World Cup and will “undoubtedly impact the Premier”. On the same note, Real Madrid Goalkeeper Thibaut Courtois acknowledges the difficulty saying, “It's difficult to find the right way to do it.”, but he is optimistic asserting that “the Club World Cup is something that has to happen.” With the increased summer workload, teams must allow players to take a break before the start of the season reducing the team's pre-season preparations and negatively affecting them for the upcoming season. Both reporters and Courtois emphasize the difficulty in implementing this tournament. However, players like Courtois, who know their break season may become shorter, are optimistic about FIFA’s new tournament. Thus, FIFA’s new tournament will pose many problems that will negatively impact the clubs’ regular season, but in the end, the clubs must find a way to deal with the problem.`
                },
                {
                    'image':'concerns.png',
                    'title':'Concerns',
                    'desp':`FIFA’s announcement of an expanded Club World Cup immediately sparked legal issues between FIFA and player unions. Player unions felt betrayed by FIFA when they heard that FIFA launched a new tournament increasing the players’ work schedule without speaking with the teams and the players. Player Unions in France and England have challenged “the legality of FIFA's decisions to unilaterally set the International Match Calendar.” The unions are arguing that FIFA scheduled matches that the teams did not want to participate in. Player unions are upset because players were already “being pushed beyond their limits, with significant injury risks”, and now, FIFA increased their summer work schedule, reducing players’ rest period. Player unions' jobs are to protect the players, so when FIFA made a new tournament that would reduce players’ rest time, player unions felt that FIFA disregarded the players' health. Either way, FIFA does not force a team to participate in these tournaments, but instead, FIFA gives each qualified team an invitation to participate in its tournament. Although Unions feel that FIFA has gone overboard and disregarded their players, it is the team who ultimately decides whether to participate in this tournament. Either way, what can be agreed is that FIFA does need to be more transparent on how they conduct business, so both sides the player unions and FIFA, can be satisfied at the end.`
                }
            ],
            'context': [
                {
                    'image':'pic10.png',
                    'title':'Format Explained',
                    'desp': `Since the 2000s, FIFA has been trying to create a global competition between teams like the World Cup. FIFA has tried implementing the Club World Cup in the past, but they did not get the participation they desired. FIFA has now made a new Club World Cup similar in structure to the popular World Cup in hopes that this new competition becomes as popular as the World Cup. The new format for the Club World Cup is “designed to elevate the prestige, making it a marquee event on the football calendar”. This strategic timing of the events means that FIFA realized that the success of the World Cup is due to the four-year gap between successive tournaments. The article further explains that the increased expansion of the Club World Cup was done to “increase participation, global interest, and competitiveness”. FIFA believes that the more teams play in the Club World Cup, the more fans will follow the tournament since the fans will watch their favorite teams play. Since the media goes to where the crowd is, the press will now give more coverage to the Club World Cup. More crowd participation will make this tournament much more valuable in the eyes of the fans and the media. FIFA decided to implement this same strategy towards the Club World Cup, making it more useful in the eyes of the fans. Both increasing the participation of the Club World Cup and the four-year gap between successive competitions are designed to elevate the competition and make it more prestigious, similar to the World Cup. FIFA hopes these recent changes will make the Club World Cup more popular among the fans and get media attention like the World Cup. `
                },
                {
                    'image':'pic11.png',
                    'title':"Reason For Change",
                    'desp': `The Club World Cup is a competition between the best football teams across the world, similar to the World Cup, which is the global competition between the best football countries. FIFA recently made their Club World Cup structured similarly to the World Cup. This new format “mirrors the old format of the FIFA World Cup and UEFA Champions League”. FIFA's new Club World Cup mirrors the format of the two most successful competitions in football: the World Cup and the UEFA Champions League, which is the competition to decide the best football club in Europe. Similar to those successful competitions, the Club World Cup will now have increased participation competition between the top thirty-two clubs across the world. These teams will be divided into group stage competitions, and the best performing teams within their respective group stages will move on to the knockout stage, then the quarterfinals, semifinals, and finals. Participation in the Club World Cup is based on the Club’s performance within their continent. The Club World Cup gives “each confederation has been given a set number of places based upon its strength”. This type of performance-based representation is used in determining who participates in the World Cup and Champions League so that the best teams can participate in the tournament. Similar to both the World Cup and the Champions League, FIFA's new expansion of the Club World Cup is a long, fierce competition between the best clubs in the world.`
                },
                {
                    'image':'pic13.png',
                    'title': "Player Fatigue",
                    'desp': `Professional football players have a very demanding work schedule, having around one month of break from football with some years even less. With the new FIFA Club World Cup, players will now have less time for breaks because the FIFA Club World Cup will take up the time players had for rest in the summer. ESPN reporter Mark Odgen explains that “player workload has been a long-standing issue, with the biggest clubs often in competitions until the final stages and then jetting off for long-distance preseason tours”. This shows that professional footballers are playing more than the average player, and they play additional matches for big pre-season tours, giving them little time for rest. Odgen comments that despite players having around 60 matches each season, “Players have been able to get at least the suggested level of rest-  usually three to four weeks- in between seasons, while every second year would have a blank space on the international calendar for extended recuperation”. Every other year, an international competition is held, and this means that the year the players play an international competition that summer, they would have three weeks of break. However, the following year, there will be no international competition, and the players can enjoy a longer break. This shows that the situation has been balanced with alternating break lengths each year to compensate for increased playing time in one year. The Club World Cup will occur in the year the World Cup and the Continental Cups are not being played, so every four years, players will likely have three years of 3-4 week breaks followed with a longer break in the summer without internation competition. Player fatigue has been a concerning issue in recent times. Professional players have packed schedules, with most playing 60 games or more. `
                }
            ],
            'perspective':[]
        }
        const cited = {
            'about':[],
            'exigence':[
                [
                    `Alessio Dell'Anna. “Expanded FIFA Club World Cup in 2025 Faces Legal Challenge by Players.” Euronews, Euronews.com, 14 June 2024, www.euronews.com/2024/06/14/overloaded-and-unworkable-2025-fifa-club-world-cup-faces-legal-challenge-by-players.`
                ],
                [
                    `Reuters. “Players Union FIFPRO Sues FIFA over Packed Football Schedule - ESPN.” ESPN.com, ESPN, 13 June 2024, www.espn.com/soccer/story/_/id/40339870/players-union-fifpro-sues-fifa-packed-football-schedule. Accessed 1 Feb. 2025.`
                ],
                [
                    `Sky Sports News. “Do Clubs Want the “Controversial” FIFA Club World Cup?” YouTube, 5 Dec. 2024, www.youtube.com/watch?v=FtjKfmKVuxM&list=TLGGYSSX4vNx9Q4zMTAxMjAyNQ. Accessed 31 Jan. 2025.`
                ]
            ],
            'context': [
                [
                    `Alessio Dell'Anna. “Expanded FIFA Club World Cup in 2025 Faces Legal Challenge by Players.” Euronews, Euronews.com, 14 June 2024, www.euronews.com/2024/06/14/overloaded-and-unworkable-2025-fifa-club-world-cup-faces-legal-challenge-by-players.`
                ],
                [
                    `Reuters. “Players Union FIFPRO Sues FIFA over Packed Football Schedule - ESPN.” ESPN.com, ESPN, 13 June 2024, www.espn.com/soccer/story/_/id/40339870/players-union-fifpro-sues-fifa-packed-football-schedule. Accessed 1 Feb. 2025.`
                ],
                [
                    `Sky Sports News. “Do Clubs Want the “Controversial” FIFA Club World Cup?” YouTube, 5 Dec. 2024, www.youtube.com/watch?v=FtjKfmKVuxM&list=TLGGYSSX4vNx9Q4zMTAxMjAyNQ. Accessed 31 Jan. 2025.`
                ]
            ],
            'perspective': [],
        }
        const subNavData = {
            'about':['context', 'exigence', 'perspective'],
            'context': ['Format','Reasons for Change', 'Player Fatigue', 'work-cited'],
            'exigence':['pro', 'con', 'concerns', 'work-cited'],
            'perspective':['']
        }
        const section = document.querySelector('.info-section')
        const citedContainer = document.querySelector('.work-cited')
        let citedSection = document.querySelector('.cited-work')
        const mainNavs = document.querySelectorAll('.main-nav-items')
        const subNavs = document.querySelectorAll('.sub-nav')
        const navContainer = document.querySelector('.nav-container')
        const frontImage = document.querySelector('.front-image-section')
        const captionTitle = document.querySelector('.caption-title')
        let current = 'about'
        let elements = []
        console.log(section)
        //run code
        display()
        navStyle('main-nav-items')
        //updating the current
        mainNavs.forEach((item) =>{
            item.addEventListener('click', ()=>{
                current = item.dataset['name']
                display()
            })
        })
        //displaying the items
        function display(){
            elements = []
            section.innerHTML = ''
            if (citedSection) citedSection.innerHTML = ''
            navContainer.innerHTML = ''
            //changeing the caption title
            captionTitle.innerHTML = current.toUpperCase()
            //displaying the nav container
            subNavData[current].forEach((element) =>{
                const newElement = document.createElement('div')
                newElement.classList.add('nav-item')
                newElement.classList.add('sub-nav')
                navContainer.append(newElement)
                newElement.innerHTML = element
            })
            navStyle('sub-nav')//make the sytle for the navs
            data[current].forEach((element, index) =>{
                const newElement = document.createElement('div')
                newElement.classList.add('about-section')
                section.append(newElement)
                let htmlSection = ``
                imageHTML = `
                    <div class="about-image">
                        <img id="about-img" src="${data[current][index].image}" alt="">
                    </div>
                `
                let text = ``
                const sentence = data[current][index].desp
                let count = 0
                const sentences = []
                let prev = ''
                let trackFIFA = ''
                Array.from(sentence).forEach(char => {
                    if (prev == '.' && char == `”`){
                        console.log('redo')
                        sentences[sentences.length-1] = `${sentences[sentences.length-1]+char}`
                    }else{
                        text+=char
                    }
                    if (char == '.') count ++
                    if (count == 3) {
                        sentences.push(text)
                        text = ''
                        count = 0
                    }
                    prev = char
                });
                let displayText = ``
                sentences.forEach((sent) =>{
                    displayText+= `<p>${sent}</p>`
                })
                textHTML = `
                    <div class="about-text">
                        <div class="about-text-title">${data[current][index].title}</div>
                        <div class="about-text-desp">${displayText}</div>
                    </div>
                `
                htmlSection  = index %2 == 0 ? imageHTML+textHTML : textHTML+imageHTML 
                newElement.innerHTML = htmlSection
                elements.push(newElement)
            })

            if (cited[current].length == 0){
                citedContainer.innerHTML = ''
            }else{
                console.log('appear')
                citedContainer.innerHTML = `
                    <div class="cited-title">Work Cited</div>
                    <div class="cited-work"></div>
                `
            }
            citedSection = document.querySelector('.cited-work')
            cited[current].forEach((element) =>{
                const newElement = document.createElement('div')
                newElement.classList.add('each-cite')
                citedSection.appendChild(newElement)
                newElement.innerHTML = element[0]
            })
            elements.push(citedSection)
            
        }
        function lineStyle(nav, dir, scale){
            nav.style.setProperty('--origin', dir);
            nav.style.setProperty('--scale', scale);
        }
        
        function navStyle(className){
            const navs = document.querySelectorAll(`.${className}`)
            let prev = undefined
            navs.forEach((nav, index) =>{
                nav.addEventListener('click', ()=>{
                    // console.log(elements[index])
                    if (className == 'sub-nav'){
                        console.log('scroll')
                        console.log(elements[index], elements)
                        elements[index].scrollIntoView({ behavior: 'smooth', block: 'center' })
                    }   
                    //remove sub class style
                    if (className == 'main-nav-items'){
                        frontImage.scrollIntoView({ behavior: 'smooth', block: 'center' })
                        subNavs.forEach((sub) =>{
                            sub.style.setProperty('--color', 'rgb(255, 255, 255)')
                            lineStyle(sub, 'left', '0')
                        })
                    }
                    if (prev) {
                        prev.style.setProperty('--color', 'rgb(255, 255, 255)')
                        lineStyle(prev, 'right', '0')
                    }
                    nav.style.setProperty('--color', 'rgb(225, 225, 225)')
                    lineStyle(nav, 'left', '1')
                    prev = nav;
                })
                nav.addEventListener('mouseover', ()=>{
                    lineStyle(nav, 'left', '1')
                })
                nav.addEventListener('mouseout', ()=>{
                    if (nav != prev) lineStyle(nav, 'right', '0')
                })
            })
        }

    </script>

</html>